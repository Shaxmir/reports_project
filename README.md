# Telegram –ë–æ—Ç –¥–ª—è —É—á—ë—Ç–∞ –ø—Ä–æ–¥–∞–∂, —Ä–∞—Å—Ö–æ–¥–æ–≤ –∏ –∫–∞—Å—Å—ã

## –û–ø–∏—Å–∞–Ω–∏–µ
–≠—Ç–æ—Ç –±–æ—Ç –ø–æ–º–æ–≥–∞–µ—Ç –≤–µ—Å—Ç–∏ —É—á—ë—Ç –ø—Ä–æ–¥–∞–∂ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤, —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á—ë—Ç—ã –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ñ–∏–Ω–∞–Ω—Å—ã.  

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥–∞–∂** (`/sale`)
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–æ–≤** (`/expense`)
- **–ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á–µ—Ç–∞ –∑–∞ —Å–µ–≥–æ–¥–Ω—è** (`/report`)
- **–ü–æ–∏—Å–∫ –ø—Ä–æ–¥–∞–∂/—Ä–∞—Å—Ö–æ–¥–æ–≤ –∑–∞ –¥–∞—Ç—É** (`/search`)
- **–ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ä—ã—Ö –æ—Ç—á–µ—Ç–æ–≤** (`/report_by_date`)  
- **–ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á–µ—Ç–∞ –∑–∞ –º–µ—Å—è—Ü (–ì—Ä–∞—Ñ–∏–∫–∏ –∏ –∞–Ω–∞–ª–∏–∑)** (`/monthly_report`)  
- **–ü—Ä–æ–¥–∞–∂–∏ –∑–∞ —Å–µ–≥–æ–¥–Ω—è** (`/all_sales`)  
- **–°–æ–∑–¥–∞—Ç—å –æ—Ç—á–µ—Ç –≤ PDF —Ñ–∞–π–ª–µ** (`/report_pdf`)  
- **–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–∞—Å—Å—ã** (`/cash`)  
- **–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–æ–≤** (`/expenses`)  
- **–ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–æ–¥–∞–∂** (`/sales`)  
- **–ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–µ–≥–æ User_ID** (`/myid`)  

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. **–°–∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**
   ```commandline
   git clone https://github.com/Shaxmir/reports_project.git
   cd reports_project
    ```

2. **–°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –µ–≥–æ:**
    ```commandline
    Python: `python -m venv .venv`
    Linux/MacOS: `source .venv/bin/activate`
    Windows: `.venv\Scripts\activate`
    ```

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** 
    ```commandline
    pip install -r requirements.txt
    ```

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**  
   –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –∏ —É–∫–∞–∂–∏—Ç–µ –≤ –Ω–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä:
    ```commandline
    BOT_TOKEN=0
    CREATOR_ID=0
    ADMIN_IDS=0,0
    ```

5. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:** 
    ```commandline
    python manage.py migrate
    ```

6. **–°–æ–∑–¥–∞–π—Ç–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞) Django:** 
    ```commandline
    python manage.py createsuperuser
    ``` 

7. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ Django-c–µ—Ä–≤–µ—Ä:** 
    ```commandline
    python manage.py runserver
    ``` 
      
8. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:** 
    ```commandline
    python manage.py bot.py
    ```

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python + Django ‚Äì –æ—Å–Ω–æ–≤–∞ –ø—Ä–æ–µ–∫—Ç–∞

- aiogram 3.x ‚Äì —Ä–∞–±–æ—Ç–∞ —Å Telegram

- PostgreSQL ‚Äì –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

- Matplotlib ‚Äì –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤


## Server setup

```shell
git clone https://github.com/Shaxmir/reports_project.git
cd reports_project

python3 -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt 
nano .env

sudo nano /etc/systemd/system/django.service
sudo nano /etc/systemd/system/bot.service

sudo systemctl start django.service
sudo systemctl start bot.service

sudo systemcrl restart django
sudo systemcrl restart bot

sudo systemcrl status django
sudo systemcrl status bot

sudo journalctl -u bot.service -f
```


### server .env
```text 
BOT_TOKEN=0
CREATOR_ID=0
ADMIN_IDS=0,0
```

## –ü—Ä–æ–µ–∫—Ç

- sales_reports - –°–∞–º –ø—Ä–æ–µ–∫—Ç, –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç—É—Ç
- reports - –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –±–æ—Ç–∞
    - reports/handlers - –≤—Å–µ —Ö–µ–Ω–¥–ª–µ—Ä—ã –±–æ—Ç–∞ –∑–¥–µ—Å—å
    - reports/filters - —Ñ–∏–ª—å—Ç—Ä—ã –¥–ª—è —Ä–æ–ª–µ–π
